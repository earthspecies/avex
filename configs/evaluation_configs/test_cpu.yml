# On which datasets to run the evaluation and which metrics to use
dataset_config: configs/data_configs/benchmark_single.yml

training_params:
  train_epochs: 300
  lr: 0.0003
  batch_size: 32
  optimizer: adamw
  weight_decay: 0.01
  amp: false
  amp_dtype: bf16


# Which experiments to evaluate
# TODO: all checkpoints to be gs paths and uploaded during train
experiments:

  - run_name: efficientnet_beans
    run_config: configs/run_configs/test_efficientnet_base_beans_cpu.yml
    ### which layers to probe for embeddings
    layers: model.avgpool
    ### whether to use pretrained model or the one we train on bioacoustic data
    pretrained: true
    # checkpoint_path: runs/efficientnet_single_15_05/checkpoints/checkpoint_epoch_029.pt

# Where to save the evaluation results
save_dir: evaluation_results/debug

device: cpu

seed: 42

num_workers: 8  # Enable workers for better memory management

# Evaluation phases
eval_modes:
  # - probe
  - retrieval

overwrite_embeddings: true
